# 📝 云笔记 (Cloud Notebook)

![PHP Version](https://img.shields.io/badge/PHP-5.6+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![SQLite](https://img.shields.io/badge/SQLite-3.0+-lightgrey.svg)

云笔记是一个简洁、安全、高效的在线Markdown笔记工具，支持实时预览、密码保护和管理功能。它专为需要随时记录和分享想法的用户设计，无需注册即可快速创建和访问笔记本。

## ✨ 主要功能

- 🔒 **密码保护**：每个笔记本都有独立密码，确保内容安全
- 📋 **Markdown支持**：支持完整的Markdown语法，包括标题、列表、代码块等
- 🖥️ **实时预览**：编辑时实时显示渲染后的Markdown效果
- 💾 **自动保存**：自动保存编辑内容，防止意外丢失
- 🌈 **代码高亮**：支持多种编程语言的代码语法高亮
- 📱 **响应式设计**：适配不同设备屏幕，包括手机和平板
- 🔍 **管理功能**：提供管理界面查看和管理所有笔记本
- 🌐 **公开分享**：支持将笔记本设置为公开，无需密码即可访问
- 🔐 **密码策略**：可设置"总是需要密码"，增强安全性
- �️ **归档管理**：支持设置归档码，方便分类管理笔记本
- 🔄 **分页浏览**：列表支持分页显示，提升使用体验
- �🎨 **现代界面**：采用现代化的开关控件和动画效果

## 🛠️ 技术栈

- **前端**：
  - HTML5, CSS3, JavaScript
  - Markdown-it (Markdown解析)
  - highlight.js (代码高亮)
  - Font Awesome (图标)
  - 现代化UI组件（开关按钮、模态框等）

- **后端**：
  - PHP (支持5.6+)
  - SQLite3 (数据存储)
  - PDO 数据库操作
  - 原生会话管理
  - RESTful API设计

## 🚀 如何使用

### 创建和访问笔记本

1. 在主页输入笔记本ID
2. 首次访问时设置密码，创建新笔记本
3. 再次访问时输入密码进入笔记本
4. 使用Markdown语法编辑内容，右侧实时预览

### 笔记本设置

1. **访问控制**：
   - 私密笔记：需要密码访问
   - 公开笔记：可通过链接直接访问
   - "总是需要密码"选项：每次访问都需要验证

2. **归档管理**：
   - 可以为笔记本设置归档码
   - 通过归档码可以查找相关笔记本
   - 支持随时修改或清除归档码

3. **公开链接**：
   - 公开笔记可获取分享链接
   - 链接格式：`http://yourdomain.com/notebook.php?id=笔记ID`

### 归档码功能

1. **设置归档码**：
   - 在笔记本设置中可设置归档码
   - 归档码用于分类和组织笔记本
   
2. **查找笔记本**：
   - 访问归档页面：`http://yourdomain.com/archive.php`
   - 输入归档码查看相关笔记本
   - 支持分页浏览归档结果

### 管理系统使用

1. **访问管理后台**：
   - 点击首页底部的"管理入口"
   - 使用管理员密码登录

2. **笔记本管理**：
   - 查看所有笔记本列表
   - 管理笔记本公开状态
   - 编辑笔记本归档码
   - 删除笔记本
   - 支持分页浏览

3. **系统设置**：
   - 修改管理员密码
   - 配置系统参数

### 修改管理员密码

1. 打开 `system/admin.php` 文件
2. 找到第8行: `$admin_password = 'notebook';`
3. 将 `notebook` 修改为您想要设置的新密码
4. 保存文件

## 📦 安装说明

### 环境要求

- PHP 5.6 或更高版本
- SQLite3 支持
- PDO 扩展
- Web服务器 (Apache/Nginx)
- 目录写入权限

### 安装步骤

1. 下载或克隆项目代码
2. 将文件上传到网站目录
3. 设置目录权限：
   - `data` 目录：755
   - `data/notebook.db`：644
4. 配置管理员密码：
   - 编辑 `system/admin.php`
   - 修改 `$admin_password` 值

## 📁 项目结构

```
CloudNotebook/
├── css/                  # 样式文件
│   ├── app.css          # 主样式表
│   └── archive.css      # 归档页面样式
├── data/                # 数据存储
│   └── notebook.db      # SQLite数据库
├── js/                  # JavaScript文件
│   ├── highlight.min.js # 代码高亮
│   ├── main.js         # 主要逻辑
│   ├── markdown-bundle.js # Markdown处理
│   └── markdown-it.min.js # Markdown解析
├── system/             # 后端文件
│   ├── admin.php      # 管理界面
│   ├── api.php        # API接口
│   ├── core.php       # 核心功能
│   └── notebook_layout.php # 笔记本模板
├── index.php          # 网站主页
├── notebook.php       # 笔记本入口
├── archive.php        # 归档查询
└── public.php         # 公开访问
```

## 🔐 安全建议

- 立即修改默认管理员密码
- 定期备份数据库文件
- 设置适当的文件权限
- 使用HTTPS加密传输
- 定期更新系统和依赖

## 🔄 更新日志

### 2025.7.21
- 新增归档码功能
- 添加归档查询页面
- 优化列表分页展示
- 改进管理界面交互
- 增强移动端适配

## 📄 许可协议

MIT License

## 👨‍💻 关于作者

云笔记项目由欲儿开发和维护，致力于提供简单、安全、高效的在线笔记解决方案。

---

💡 **帮助与支持**: 如果您遇到问题或有建议，欢迎提交Issue或Pull Request。

🌟 **欢迎贡献**: 我们欢迎社区贡献，包括但不限于功能改进、问题修复、文档完善等。 
